    local Players = game:GetService("Players")

        
        local Player = Players.LocalPlayer
            local character = Player.Character or Player.CharacterAdded:Wait()
            local root = character:WaitForChild("HumanoidRootPart")
            local humanoid = character:WaitForChild("Humanoid")

            local gui = Player.PlayerGui
            local screenGui = gui.ScreenGui

            
            local isUlted = character:GetAttribute("Ulted")







    
    character:SetAttribute("UltimateName", "KAIOKEN TIMES FIVE HUNDRED")

        
        screenGui.MagicHealth.Health.Bar.Bar.ImageColor3 = Color3.fromRGB(222, 37, 37)

    
    local moves = {
        ["Tri-Beam"] = {slot = 1, text = ""}, -- "text" is the text that's under the move name, e.g. "USE TWICE"
        ["Angered Barrage"] = {slot = 2, text = ""},
        ["Dodon Ray"] = {slot = 3, text = ""}, -- Leave it empty if you don't want any text
        ["Uptilt"] = {slot = 4, text = ""},
    }

        
        local ultNames = {
            ["RAGE COUNTER"] = {slot = 1, text = "Some text"},
            ["Move Name 2"] = {slot = 2, text = "Another text"},
            ["Move Name 3"] = {slot = 3, text = ""},
            ["Move Name 4"] = {slot = 4, text = ""},
        }



        
        local function setToolName(movetable)
            for name, data in pairs(movetable) do
                local hotbarSlot = gui.Hotbar.Backpack.Hotbar:FindFirstChild(data.slot).Base
                    hotbarSlot.ToolName.Text = name
                    hotbarSlot.Reuse.Text = data.text
                        hotbarSlot.Reuse.Reuse.Text = data.text
                        hotbarSlot.Reuse.Visible = true
            end
        end

            setToolName(moves)
                character:GetAttributeChangedSignal("Ulted"):Connect(function()
                    if not isUlted then
                        task.wait()
                        setToolName(moves)
                    end
                end)

                Player.Backpack.ChildAdded:Connect(function(tool)
                    if tool.Name == "Death Counter" then -- [[Change this to an ult move of your character]]
                        task.wait()
                        setToolName(ultNames)
                    end
                end)


    local Idle = "13716964686" 
    local Walk = ""

    local m1 = "13294471966" 
    local m2 = "17889471098"
    local m3 = "16552234590"
    local m4 = "13378708199"

    local Move1 = "18459215845"
    local Move2 = "12534735382"
    local Move3 = "13295936866"
    local Move4 = "95849504825"

    local Ult = "113876851900426" 

    local UltMove1 = "140145728452253" 
    local UltMove2 = "95849504825"
    local UltMove3 = "95849504825"
    local UltMove4 = "95849504825"

            pcall(function() getgenv().Idle:Disconnect() end)

            getgenv().Idle = humanoid.AnimationPlayed:Connect(function(animationTrack)
                if animationTrack.Animation.AnimationId == "rbxassetid://10469493270" then
                    local anim = Instance.new("Animation")
                        anim.AnimationId = "rbxassetid://" .. Idle
                    local loadedAnim = humanoid:LoadAnimation(anim)
    
                    loadedAnim.Priority = Enum.AnimationPriority.Idle
                    loadedAnim:Play()
                end
            end)

            
            pcall(function() getgenv().Walk:Disconnect() end)

            getgenv().Walk = humanoid.AnimationPlayed:Connect(function(animationTrack)
                if animationTrack.Animation.AnimationId == "rbxassetid://10469493270" then
                    local anim = Instance.new("Animation")
                        anim.AnimationId = "rbxassetid://" .. Walk
                    local loadedAnim = humanoid:LoadAnimation(anim)
    
                    loadedAnim.Priority = Enum.AnimationPriority.Movement
                    loadedAnim:Play()
                end
            end)

            
            pcall(function() getgenv().one:Disconnect() end)

            getgenv().one = humanoid.AnimationPlayed:Connect(function(animationTrack)
                if animationTrack.Animation.AnimationId == "rbxassetid://10469493270" then
                    local anim = Instance.new("Animation")
                        anim.AnimationId = "rbxassetid://" .. m1
                    local loadedAnim = humanoid:LoadAnimation(anim)
    
                    loadedAnim.Priority = Enum.AnimationPriority.Action2
                    loadedAnim:Play()
                end
            end)

            
            pcall(function() getgenv().two:Disconnect() end)

            getgenv().two = humanoid.AnimationPlayed:Connect(function(animationTrack)
                if animationTrack.Animation.AnimationId == "rbxassetid://10469493270" then
                    local anim = Instance.new("Animation")
                        anim.AnimationId = "rbxassetid://" .. m2
                    local loadedAnim = humanoid:LoadAnimation(anim)
    
                    loadedAnim.Priority = Enum.AnimationPriority.Action2
                    loadedAnim:Play()
                end
            end)

            
            pcall(function() getgenv().three:Disconnect() end)

            getgenv().three = humanoid.AnimationPlayed:Connect(function(animationTrack)
                if animationTrack.Animation.AnimationId == "rbxassetid://10469493270" then
                    local anim = Instance.new("Animation")
                        anim.AnimationId = "rbxassetid://" .. m3
                    local loadedAnim = humanoid:LoadAnimation(anim)
    
                    loadedAnim.Priority = Enum.AnimationPriority.Action2
                    loadedAnim:Play()
                end
            end)

            
            pcall(function() getgenv().four:Disconnect() end)

            getgenv().four = humanoid.AnimationPlayed:Connect(function(animationTrack)
                if animationTrack.Animation.AnimationId == "rbxassetid://10469493270" then
                    local anim = Instance.new("Animation")
                        anim.AnimationId = "rbxassetid://" .. m4
                    local loadedAnim = humanoid:LoadAnimation(anim)
    
                    loadedAnim.Priority = Enum.AnimationPriority.Action2
                    loadedAnim:Play()
                end
            end)

            
            pcall(function() getgenv().move1:Disconnect() end)

            getgenv().move1 = humanoid.AnimationPlayed:Connect(function(animationTrack)
                if animationTrack.Animation.AnimationId == "rbxassetid://10468665991" then
                    local anim = Instance.new("Animation")
                        anim.AnimationId = "rbxassetid://" .. Move1
                    local loadedAnim = humanoid:LoadAnimation(anim)
    
                    loadedAnim.Priority = Enum.AnimationPriority.Action2
                    loadedAnim:Play()
                end
            end)

            
            pcall(function() getgenv().move2:Disconnect() end)

            getgenv().move2 = humanoid.AnimationPlayed:Connect(function(animationTrack)
                if animationTrack.Animation.AnimationId == "rbxassetid://10466974800" then
                    local anim = Instance.new("Animation")
                        anim.AnimationId = "rbxassetid://" .. Move2
                    local loadedAnim = humanoid:LoadAnimation(anim)
    
                    loadedAnim.Priority = Enum.AnimationPriority.Action2
                    loadedAnim:Play()
                end
            end)


            
            pcall(function() getgenv().move3:Disconnect() end)

            getgenv().move3 = humanoid.AnimationPlayed:Connect(function(animationTrack)
                if animationTrack.Animation.AnimationId == "rbxassetid://10471336737" then
                    local anim = Instance.new("Animation")
                        anim.AnimationId = "rbxassetid://" .. Move3
                    local loadedAnim = humanoid:LoadAnimation(anim)
    
                    loadedAnim.Priority = Enum.AnimationPriority.Action2
                    loadedAnim:Play()
                end
            end)

            
            pcall(function() getgenv().move4:Disconnect() end)

            getgenv().move4 = humanoid.AnimationPlayed:Connect(function(animationTrack)
                if animationTrack.Animation.AnimationId == "rbxassetid://12510170988" then
                    local anim = Instance.new("Animation")
                        anim.AnimationId = "rbxassetid://" .. Move4
                    local loadedAnim = humanoid:LoadAnimation(anim)
    
                    loadedAnim.Priority = Enum.AnimationPriority.Action2
                    loadedAnim:Play()
                end
            end)

            
            pcall(function() getgenv().ult:Disconnect() end)

            getgenv().ult = humanoid.AnimationPlayed:Connect(function(animationTrack)
                if animationTrack.Animation.AnimationId == "rbxassetid://10469493270" then
                    local anim = Instance.new("Animation")
                        anim.AnimationId = "rbxassetid://" .. Ult
                    local loadedAnim = humanoid:LoadAnimation(anim)
    
                    loadedAnim.Priority = Enum.AnimationPriority.Action2
                    loadedAnim:Play()
                end
            end)

            
            pcall(function() getgenv().ult:Disconnect() end)

            getgenv().ult = humanoid.AnimationPlayed:Connect(function(animationTrack)
                if animationTrack.Animation.AnimationId == "rbxassetid://10469493270" then
                    local anim = Instance.new("Animation")
                        anim.AnimationId = "rbxassetid://" .. Ult
                    local loadedAnim = humanoid:LoadAnimation(anim)
    
                    loadedAnim.Priority = Enum.AnimationPriority.Action2
                    loadedAnim:Play()
                end
            end)

            
            pcall(function() getgenv().ult:Disconnect() end)

            getgenv().ult = humanoid.AnimationPlayed:Connect(function(animationTrack)
                if animationTrack.Animation.AnimationId == "rbxassetid://10469493270" then
                    local anim = Instance.new("Animation")
                        anim.AnimationId = "rbxassetid://" .. Ult
                    local loadedAnim = humanoid:LoadAnimation(anim)
    
                    loadedAnim.Priority = Enum.AnimationPriority.Action2
                    loadedAnim:Play()
                end
            end)

            
            pcall(function() getgenv().ult:Disconnect() end)

            getgenv().ult = humanoid.AnimationPlayed:Connect(function(animationTrack)
                if animationTrack.Animation.AnimationId == "rbxassetid://10469493270" then
                    local anim = Instance.new("Animation")
                        anim.AnimationId = "rbxassetid://" .. Ult
                    local loadedAnim = humanoid:LoadAnimation(anim)
    
                    loadedAnim.Priority = Enum.AnimationPriority.Action2
                    loadedAnim:Play()
                end
            end)

            
            pcall(function() getgenv().ult:Disconnect() end)

            getgenv().ult = humanoid.AnimationPlayed:Connect(function(animationTrack)
                if animationTrack.Animation.AnimationId == "rbxassetid://10469493270" then
                    local anim = Instance.new("Animation")
                        anim.AnimationId = "rbxassetid://" .. Ult
                    local loadedAnim = humanoid:LoadAnimation(anim)
    
                    loadedAnim.Priority = Enum.AnimationPriority.Action2
                    loadedAnim:Play()
                end
          end)

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local blockedAnimations = {
    ["rbxassetid://10468665991"] = true,
    ["rbxassetid://10466974800"] = true,
    ["rbxassetid://10471336737"] = true,
    ["rbxassetid://12510170988"] = true,
    ["rbxassetid://10469493270"] = true,
    ["rbxassetid://10469630950"] = true,
    ["rbxassetid://10469639222"] = true,
    [rbxassetid://10469643643"] = true
}

local function stopBlockedAnimations(character)
    local humanoid = character:FindFirstChildOfClass("Humanoid")
    if humanoid then
        for _, track in pairs(humanoid:GetPlayingAnimationTracks()) do
            if track.Animation and blockedAnimations[track.Animation.AnimationId] then
                track:Stop()
            end
        end
    end
end

local function onCharacterAdded(character)
    RunService.Heartbeat:Connect(function()
        stopBlockedAnimations(character)
    end)
end

local function onPlayerAdded(player)
    if player.Character then
        onCharacterAdded(player.Character)
    end
    player.CharacterAdded:Connect(onCharacterAdded)
end

Players.PlayerAdded:Connect(onPlayerAdded)

for _, player in ipairs(Players:GetPlayers()) do
    if player.Character then
        onCharacterAdded(player.Character)
    end
end)
